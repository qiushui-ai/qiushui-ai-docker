import{c as We,r as a,x as Ye,j as e,y as X,z as Xe,E as Ze,X as oe,V as es,F as ge,G as ss,J as de,u as ue,a as me,K as _e,b as ae,M as ee,D as ts,d as as,e as ns,I as je,f as rs,B as A,h as ls,i as se,A as is,k as cs,l as os,m as ds,n as us,o as ms,p as xs,q as fs,C as Me,v as Pe,H as Re,s as ze,t as Le,N as hs,O as gs,Q as ps,R as js,U as Ce,W as vs,T as ve,Y as Ie,Z as Ve,_ as qe,S as Ke,$ as pe,a0 as Ns,P as ws,w as bs}from"./index-CTPVv2qI.js";import{M as ys}from"./main-CdabfA0i.js";import{u as $e,a as Ae}from"./use-infinite-scroll-BdHXd_Cp.js";import{N as Ne,g as Cs}from"./NoteEditor-eXmSlbk5.js";import{P as Ts}from"./index-CagKKcNF.js";import{R as Ss,a as Te,b as Ds}from"./resizable-uvdkuyco.js";import{T as Se,a as Es,b as De,c as Ee}from"./tabs-BP2O6kcy.js";import{M as we}from"./markdown-text-CB2uSyzD.js";import{C as ks}from"./calendar-ODBYeOZb.js";import{T as ke}from"./tag-VD1gqTC7.js";import{E as be}from"./eye-CrEdTXEF.js";import{E as Fs}from"./eye-off-Bvt1R7Db.js";import{g as Os,V as _s,s as Ms}from"./notes-view-storage-izKA1eKT.js";import{T as Ps,a as Rs,b as Fe,c as le,d as zs,e as ie}from"./table-Pbk4v1eF.js";import{f as Oe}from"./time-format-B1EfeAID.js";import"./save-CysiHy1C.js";import"./setPrototypeOf-BNw_nwy-.js";import"./copy-DCTh9Qv_.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=We("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);function Is(n,r){const[s,d]=a.useState(n);return a.useEffect(()=>{const l=setTimeout(()=>d(n),r||500);return()=>{clearTimeout(l)}},[n,r]),s}function ce(n,r){if(n.length===0)return{};if(!r)return{"":n};const s={};return n.forEach(d=>{const l=d[r]||"";s[l]||(s[l]=[]),s[l].push(d)}),s}function Vs(n,r){const s=JSON.parse(JSON.stringify(n));for(const[d,l]of Object.entries(s))s[d]=l.filter(m=>!r.find(c=>c.value===m.value));return s}function qs(n,r){for(const[,s]of Object.entries(n))if(s.some(d=>r.find(l=>l.value===d.value)))return!0;return!1}const He=a.forwardRef(({className:n,...r},s)=>Ye(l=>l.filtered.count===0)?e.jsx("div",{ref:s,className:X("py-6 text-center text-sm",n),"cmdk-empty":"",role:"presentation",...r}):null);He.displayName="CommandEmpty";const Qe=a.forwardRef(({value:n,onChange:r,placeholder:s,defaultOptions:d=[],options:l,delay:m,onSearch:c,onSearchSync:N,loadingIndicator:p,emptyIndicator:x,maxSelected:w=Number.MAX_SAFE_INTEGER,onMaxSelected:k,hidePlaceholderWhenSelected:_,disabled:C,groupBy:O,className:M,badgeClassName:H,selectFirstItem:Q=!0,creatable:v=!1,triggerSearchOnFocus:g=!1,commandProps:b,inputProps:V,hideClearAllButton:U=!1,dropupMode:P="auto",hideBorder:B=!1,blurOnSelect:I=!1},Z)=>{const y=a.useRef(null),[T,G]=a.useState(!1),[W,q]=a.useState(!1),[o,i]=a.useState(!1),j=a.useRef(null),S=a.useRef(null),[K,D]=a.useState(!1),[f,L]=a.useState(n||[]),[R,z]=a.useState(ce(d,O)),[E,h]=a.useState(""),$=Is(E,m||500);a.useImperativeHandle(Z,()=>({selectedValue:[...f],input:y.current,focus:()=>{var t;return(t=y==null?void 0:y.current)==null?void 0:t.focus()},reset:()=>L([])}),[f]);const J=t=>{j.current&&!j.current.contains(t.target)&&y.current&&!y.current.contains(t.target)&&(G(!1),y.current.blur())},te=a.useCallback(t=>{const u=f.filter(F=>F.value!==t.value);L(u),r==null||r(u)},[r,f]),xe=a.useCallback(t=>{const u=y.current;if(u){if((t.key==="Delete"||t.key==="Backspace")&&u.value===""&&f.length>0){const F=f[f.length-1];F&&!F.fixed&&te(F)}t.key==="Escape"&&u.blur()}},[te,f]);a.useEffect(()=>(T?(document.addEventListener("mousedown",J),document.addEventListener("touchend",J)):(document.removeEventListener("mousedown",J),document.removeEventListener("touchend",J)),()=>{document.removeEventListener("mousedown",J),document.removeEventListener("touchend",J)}),[T]),a.useEffect(()=>{if(T&&P==="auto"&&S.current){const t=S.current.getBoundingClientRect(),F=window.innerHeight-t.bottom,Y=t.top;F<200&&Y>F?D(!0):D(!1)}else P==="up"?D(!0):P==="down"&&D(!1)},[T,P]),a.useEffect(()=>{n&&L(n)},[n]),a.useEffect(()=>{if(!l||c)return;const t=ce(l,O);z(t)},[l,O,c]),a.useEffect(()=>{if(N&&$!==void 0){const t=N($),u=ce(t,O);z(u)}},[$,O,N]),a.useEffect(()=>{const t=async()=>{i(!0);const F=await(c==null?void 0:c($));if(i(!1),!F)return;const Y=ce(F,O);z(Y)};(async()=>{if(c&&T){if($===void 0||$===""){g&&t();return}t()}})()},[$,m,O,c,T,g]);const ne=a.useMemo(()=>Vs(R,f),[R,f]),fe=a.useMemo(()=>f.map(t=>t.value),[f]),he=()=>x?e.jsx(He,{children:x}):null;a.useMemo(()=>{const t=[];for(const[,u]of Object.entries(ne))t.push(...u);return t},[ne]);const re=()=>!v||qs(R,[{label:E,value:E}])||fe.includes(E)||E.trim().length===0?null:e.jsx(ge,{value:E,disabled:!0,onMouseDown:u=>{u.preventDefault(),u.stopPropagation()},onSelect:()=>{var F;if(f.length>=w){k==null||k(f.length);return}h("");const u=[...f,{label:E,value:E}];L(u),r==null||r(u),I&&((F=y.current)==null||F.blur(),G(!1))},className:"cursor-pointer",children:`åˆ›å»º "${E}"`});return e.jsx(Xe,{...b,onKeyDown:xe,className:X("overflow-visible bg-transparent",b==null?void 0:b.className),shouldFilter:(b==null?void 0:b.shouldFilter)!==void 0?b.shouldFilter:!c&&!N,children:e.jsxs("div",{ref:S,className:"relative",children:[e.jsx("div",{className:X("group rounded-md bg-background text-sm ring-offset-background",!B&&"border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",M),children:e.jsxs("div",{className:"flex h-full flex-wrap gap-1 p-1",children:[f.map(t=>e.jsxs(Ze,{variant:"secondary",className:X("flex items-center gap-1 px-2 py-1 text-xs","data-[disabled]:opacity-50 data-[disabled]:cursor-not-allowed","data-[fixed]:opacity-50 data-[fixed]:cursor-not-allowed",!C&&!t.fixed&&"hover:bg-secondary/80",H),"data-fixed":t.fixed,"data-disabled":C,children:[t.label,e.jsx("button",{className:X("ml-0.5 h-3 w-3 rounded-full outline-none ring-offset-background focus:ring-1 focus:ring-ring hover:bg-secondary-foreground/20 flex items-center justify-center",(C||t.fixed)&&"hidden"),onKeyDown:u=>{u.key==="Enter"&&te(t)},onMouseDown:u=>{u.preventDefault(),u.stopPropagation()},onClick:()=>te(t),children:e.jsx(oe,{className:"h-2.5 w-2.5 text-secondary-foreground hover:text-foreground"})})]},t.value)),e.jsx(es.Input,{...V,ref:y,value:E,onValueChange:h,disabled:C,placeholder:_&&f.length!==0?"":s,className:X("ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground",V==null?void 0:V.className),onFocus:()=>G(!0),onBlur:()=>{W||G(!1)}})]})}),T&&e.jsx("div",{ref:j,className:X("absolute z-50 w-full rounded-md border bg-popover shadow-md outline-none animate-in",K?"bottom-full mb-1":"mt-1"),onMouseLeave:()=>{q(!1)},onMouseEnter:()=>{q(!0)},onMouseUp:()=>{var t;(t=y==null?void 0:y.current)==null||t.focus()},children:o?e.jsx(e.Fragment,{children:p}):e.jsxs(e.Fragment,{children:[he(),re(),!Q&&e.jsx(ge,{value:"-",className:"hidden"}),Object.entries(ne).map(([t,u])=>e.jsx(ss,{heading:t,className:"h-full overflow-auto",children:e.jsx(e.Fragment,{children:u.map(F=>e.jsx(ge,{value:F.label,disabled:F.disable,onMouseDown:Y=>{Y.preventDefault(),Y.stopPropagation()},onSelect:()=>{var ye;if(f.length>=w){k==null||k(f.length);return}h("");const Y=[...f,F];L(Y),r==null||r(Y),I&&((ye=y.current)==null||ye.blur(),G(!1))},className:X("cursor-pointer",F.disable&&"cursor-default text-muted-foreground"),children:F.label},F.value))})},t))]})})]})})});Qe.displayName="MultipleSelector";function Ge({open:n,onOpenChange:r,note:s,onFullscreenEdit:d,defaultTagPath:l}){const{t:m}=de(),c=ue(),{toast:N}=me(),[p,x]=a.useState(!1),w=a.useRef(null),[k,_]=a.useState(!1),[C,O]=a.useState((s==null?void 0:s.title)||""),M=a.useRef(null),[H,Q]=a.useState([]),{data:v=[],isLoading:g}=_e({queryKey:["note-tags-list"],queryFn:async()=>await Cs(),enabled:n}),b=a.useMemo(()=>v.map(o=>({label:o.full_name,value:o.uuid})),[v]),V=a.useMemo(()=>s!=null&&s.tags&&typeof s.tags=="object"&&Array.isArray(s.tags.tag_names)&&s.tags.tag_names.length>0?JSON.stringify({source:"tag_names",tags:s.tags.tag_names}):null,[s==null?void 0:s.uuid,s==null?void 0:s.tags]),U=a.useRef(void 0),P=a.useRef(""),B=a.useRef(!1);a.useEffect(()=>{if(!n){B.current=!1;return}if(b.length===0)return;const o=!B.current;B.current=!0;const i=(s==null?void 0:s.uuid)!==U.current,j=U.current!==void 0,S=(s==null?void 0:s.uuid)!==void 0,K=j!==S;if((i||K)&&(U.current=s==null?void 0:s.uuid,P.current=""),!s&&l&&(o||i||K||P.current==="")){const D=b.find(f=>f.label===l);if(D){const f=[D],L=JSON.stringify(f.map(R=>({value:R.value||"",label:R.label||""})).sort((R,z)=>(R.label||"").localeCompare(z.label||"")));L!==P.current&&(P.current=L,Q(f));return}}if(V&&(i||K||o||P.current==="")){const f=JSON.parse(V).tags,L=b.filter(z=>f.some(E=>z.label===E)),R=JSON.stringify(L.map(z=>({value:z.value||"",label:z.label||""})).sort((z,E)=>(z.label||"").localeCompare(E.label||"")));R!==P.current&&(P.current=R,Q(L))}else!V&&!l&&(i||K||o||P.current!=="[]")&&(P.current="[]",Q([]))},[n,s==null?void 0:s.uuid,V,b.length,l]),a.useEffect(()=>{O((s==null?void 0:s.title)||"")},[s==null?void 0:s.title]);const I=ae({mutationFn:ee.create,onSuccess:o=>{c.invalidateQueries({predicate:i=>{const j=i.queryKey[0];return j==="notes"||j==="notes-infinite"}}),o.tag_details&&o.tag_details.some(i=>i.is_new)&&(console.log("ðŸ·ï¸ æ£€æµ‹åˆ°æ–°æ ‡ç­¾,åˆ·æ–°æ ‡ç­¾æ ‘:",o.tag_details.filter(i=>i.is_new)),c.invalidateQueries({queryKey:["note-tags-tree"]})),x(!1),N({title:"ä¿å­˜æˆåŠŸ",description:"ç¬”è®°å·²æˆåŠŸä¿å­˜"})},onError:()=>{x(!1),N({title:"ä¿å­˜å¤±è´¥",description:"ç¬”è®°ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•",variant:"destructive"})}}),Z=ae({mutationFn:({uuid:o,data:i})=>ee.update(o,i),onSuccess:o=>{c.invalidateQueries({predicate:i=>{const j=i.queryKey[0];return j==="notes"||j==="notes-infinite"}}),o.tag_details&&o.tag_details.some(i=>i.is_new)&&(console.log("ðŸ·ï¸ æ£€æµ‹åˆ°æ–°æ ‡ç­¾,åˆ·æ–°æ ‡ç­¾æ ‘:",o.tag_details.filter(i=>i.is_new)),c.invalidateQueries({queryKey:["note-tags-tree"]})),x(!1),N({title:"ä¿å­˜æˆåŠŸ",description:"ç¬”è®°å·²æˆåŠŸä¿å­˜"})},onError:()=>{x(!1),N({title:"ä¿å­˜å¤±è´¥",description:"ç¬”è®°ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•",variant:"destructive"})}}),y=(o,i)=>{if(!o.trim())return;x(!0);const j=H.map(K=>K.label),S=j.length>0?{tag_names:j}:void 0;s?Z.mutate({uuid:s.uuid,data:{title:(i==null?void 0:i.trim())||"",content:o.trim(),tags:S}}):I.mutate({title:(i==null?void 0:i.trim())||"",content:o.trim(),tags:S,status:1})},T=()=>{_(!0),setTimeout(()=>{var o,i;(o=M.current)==null||o.focus(),(i=M.current)==null||i.select()},0)},G=()=>{_(!1)},W=o=>{var i;o.key==="Enter"&&(o.preventDefault(),(i=M.current)==null||i.blur())},q=()=>{var j,S;const o=((S=(j=w.current)==null?void 0:j.getContent)==null?void 0:S.call(j))||"",i=C||"";r(!1),d&&d(s,o,i)};return e.jsx(ts,{open:n,onOpenChange:r,children:e.jsxs(as,{className:"sm:max-w-[600px] h-[650px] flex flex-col [&>button]:hidden",children:[e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:k?e.jsx(je,{ref:M,value:C,onChange:o=>O(o.target.value),onBlur:G,onKeyDown:W,className:"text-sm font-semibold h-6 max-w-xs border-0 shadow-none focus-visible:ring-0 px-1",placeholder:"è¯·è¾“å…¥æ ‡é¢˜"}):e.jsxs("div",{className:"flex items-center space-x-2 group cursor-pointer min-w-0",onClick:T,children:[e.jsx(rs,{className:"truncate max-w-md",children:C||m(s?"notes.editNote":"notes.createNote")}),e.jsx(Ts,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:q,disabled:p,className:"h-8 w-8",children:e.jsx(Ls,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>r(!1),disabled:p,className:"h-8 w-8",children:e.jsx(oe,{className:"h-4 w-4"})})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Ne,{ref:w,note:s,onSave:y,isSaving:p,showToolbar:!1,editorId:"dialog-editor",className:"h-full",vditorToolbar:"simple",mode:"sample"})}),e.jsxs(ls,{className:"flex items-center justify-between sm:justify-between gap-4 w-full",children:[e.jsx("div",{className:"max-w-xs",children:e.jsx(Qe,{options:b,value:H,onChange:o=>Q(o),placeholder:"é€‰æ‹©æ ‡ç­¾...",dropupMode:"auto",hideBorder:!0,blurOnSelect:!0,loadingIndicator:e.jsxs("div",{className:"flex items-center justify-center py-6",children:[e.jsx(se,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"åŠ è½½ä¸­..."})]}),emptyIndicator:e.jsx("p",{className:"text-center text-lg leading-10 text-gray-600 dark:text-gray-400",children:"æ²¡æœ‰æ‰¾åˆ°ç»“æžœ"}),disabled:g||p})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{variant:"outline",onClick:()=>r(!1),disabled:p,children:m("common.close")}),e.jsxs(A,{onClick:()=>{var i,j;const o=((j=(i=w.current)==null?void 0:i.getContent)==null?void 0:j.call(i))||"";console.log("ðŸ” NoteEditorDialog - èŽ·å–çš„å†…å®¹:",o),console.log("ðŸ” NoteEditorDialog - æ ‡é¢˜:",C),console.log("ðŸ” NoteEditorDialog - æ ‡ç­¾:",H),N({title:"ç¼–è¾‘å™¨å†…å®¹ï¼ˆå¼¹çª—ï¼‰",description:`é•¿åº¦: ${o.length} å­—ç¬¦
å‰100å­—: ${o.substring(0,100)}...`,duration:3e3}),y(o,C)},disabled:p,children:[p&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),m("common.save")]})]})]})]})})}function Je({open:n,onOpenChange:r,note:s}){de();const d=ue(),{toast:l}=me(),m=ae({mutationFn:p=>ee.delete(p),onSuccess:()=>{d.invalidateQueries({queryKey:["notes"]}),r(!1),l({title:"åˆ é™¤æˆåŠŸ",description:"ç¬”è®°å·²æˆåŠŸåˆ é™¤"})},onError:p=>{l({title:"åˆ é™¤å¤±è´¥",description:(p==null?void 0:p.message)||"åˆ é™¤ç¬”è®°æ—¶å‘ç”Ÿé”™è¯¯",variant:"destructive"})}}),c=()=>{s&&m.mutate(s.uuid)},N=m.isPending;return e.jsx(is,{open:n,onOpenChange:r,children:e.jsxs(cs,{children:[e.jsxs(os,{children:[e.jsx(ds,{children:"ç¡®è®¤åˆ é™¤"}),e.jsxs(us,{children:['æ‚¨ç¡®å®šè¦åˆ é™¤ç¬”è®° "',(s==null?void 0:s.title)||"æ— æ ‡é¢˜",'" å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚']})]}),e.jsxs(ms,{children:[e.jsx(xs,{disabled:N,children:"å–æ¶ˆ"}),e.jsxs(fs,{onClick:c,disabled:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[N&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"åˆ é™¤"]})]})]})})}function Ks({note:n,onClick:r,onEdit:s,onDelete:d}){const[l,m]=a.useState(!1),c=x=>{const w=x.target;w.closest("[data-dropdown-trigger]")||w.closest("[data-hover-trigger]")||r==null||r()},N=x=>{const w=new Date(x),_=new Date().getTime()-w.getTime(),C=Math.floor(_/(1e3*60*60*24));return C===0?"ä»Šå¤©":C===1?"æ˜¨å¤©":C<7?`${C}å¤©å‰`:w.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},p=x=>{const w=x.replace(/#+\s*/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/\n/g," ").trim();return w.length>100?w.substring(0,100)+"...":w};return e.jsx(Me,{className:`group cursor-pointer hover:shadow-md transition-all duration-200 hover:border-gray-300 border border-gray-200 ${l?"border-gray-300 shadow-md":""}`,onClick:c,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:e.jsx(Pe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-3",children:[e.jsx("h3",{className:"font-medium text-sm mb-2 line-clamp-2 text-gray-900 hover:text-primary",children:n.title}),n.content&&e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:p(n.content)}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ks,{className:"h-3 w-3"}),e.jsx("span",{children:N(n.created_at)})]}),n.tags&&n.tags.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"h-3 w-3"}),e.jsxs("span",{className:"truncate max-w-24",children:[n.tags[0].tag_name,n.tags.length>1&&` +${n.tags.length-1}`]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsxs(Re,{children:[e.jsx(ze,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"sm",className:`h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity ${l?"opacity-100":""}`,"data-hover-trigger":"true",children:e.jsx(be,{className:"h-3 w-3"})})}),e.jsx(Le,{className:"w-80 p-3",side:"left",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold line-clamp-2",children:n.title}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n.content?e.jsxs("div",{className:"max-h-32 overflow-y-auto",children:[e.jsx(we,{children:n.content.substring(0,300)}),n.content.length>300&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"..."})]}):e.jsx("p",{className:"text-gray-400",children:"æš‚æ— å†…å®¹"})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 pt-2 border-t",children:[e.jsx("span",{children:N(n.created_at)}),n.tags&&n.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"h-3 w-3"}),e.jsx("span",{children:n.tags.map(x=>x.tag_name).join(", ")})]})]})]})]})})]}),e.jsxs(hs,{children:[e.jsx(gs,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"sm",className:`h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity ${l?"opacity-100":""}`,"data-dropdown-trigger":"true",children:e.jsx(ps,{className:"h-3 w-3"})})}),e.jsxs(js,{align:"end",className:"w-32",children:[e.jsxs(Ce,{onClick:s,className:"text-xs",children:[e.jsx(vs,{className:"h-3 w-3 mr-2"}),"ç¼–è¾‘"]}),e.jsxs(Ce,{onClick:d,className:"text-xs text-red-600 focus:text-red-600",children:[e.jsx(ve,{className:"h-3 w-3 mr-2"}),"åˆ é™¤"]})]})]})]})]})})})}function $s(n,r){const[s,d]=a.useState(n);return a.useEffect(()=>{const l=setTimeout(()=>{d(n)},r);return()=>{clearTimeout(l)}},[n,r]),s}function As({onToggleRightPanel:n,isRightPanelVisible:r=!0}){var re;const{t:s}=de(),{tagPath:d,setTagPath:l}=Ie(),m=ue(),{toast:c}=me(),[N,p]=a.useState(""),[x,w]=a.useState("notes"),[k,_]=a.useState(!1),[C,O]=a.useState(!1),[M,H]=a.useState(null),[Q,v]=a.useState(!1),[g,b]=a.useState(null),[V,U]=a.useState(""),[P,B]=a.useState(""),[I,Z]=a.useState(null),[y,T]=a.useState(0),[G,W]=a.useState(!1),[q,o]=a.useState(null),[i,j]=a.useState(!1),S=$s(N,500),K=ae({mutationFn:({uuid:t,data:u})=>ee.update(t,u),onSuccess:()=>{m.invalidateQueries({predicate:t=>{const u=t.queryKey[0];return u==="notes"||u==="notes-infinite"||u==="notes-card-list"}}),j(!1),c({title:"ä¿å­˜æˆåŠŸ",description:"ç¬”è®°å·²æˆåŠŸä¿å­˜"})},onError:()=>{j(!1),c({title:"ä¿å­˜å¤±è´¥",description:"ç¬”è®°ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•",variant:"destructive"})}}),{data:D,isLoading:f,fetchNextPage:L,hasNextPage:R,isFetchingNextPage:z}=$e({queryKey:["notes-card-list",S,d,x],queryFn:({pageParam:t=1})=>Ve({pageParam:t,keyword:S,tagPath:d}),initialPageParam:1,getNextPageParam:(t,u)=>{if(t.data.length===qe)return u.length+1},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),E=a.useMemo(()=>(D==null?void 0:D.pages.flatMap(t=>t.data))||[],[D]),{loadMoreRef:h}=Ae({hasNextPage:R,isFetchingNextPage:z,fetchNextPage:L,threshold:200}),$=t=>{const u=document.querySelector(".note-card-list-container");u&&T(u.scrollTop),o(t),W(!0)},J=t=>{T(window.scrollY),H(t),_(!0)},te=t=>{Z(t),O(!0)},xe=()=>{v(!1),b(null),U(""),B(""),setTimeout(()=>{window.scrollTo(0,y)},100)},ne=()=>{W(!1),o(null),setTimeout(()=>{const t=document.querySelector(".note-card-list-container");t&&(t.scrollTop=y)},100)},fe=(t,u)=>{!q||!t.trim()||(j(!0),K.mutate({uuid:q.uuid,data:{title:(u==null?void 0:u.trim())||"",content:t.trim()}}))},he=t=>{_(t),t||setTimeout(()=>{window.scrollTo(0,y)},100)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-full flex flex-col relative",children:[G&&q&&e.jsx("div",{className:"absolute inset-0 z-20 bg-background",children:e.jsx(Ne,{note:q,onClose:ne,onSave:fe,isSaving:i,editorId:"card-editor",className:"h-full",showToolbar:!0,toolbarTitle:`ç¼–è¾‘: ${q.title||"æ— æ ‡é¢˜"}`})}),e.jsx("div",{className:"flex-shrink-0 border-b bg-background",children:e.jsxs("div",{className:"px-4 py-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Se,{value:x,onValueChange:t=>w(t),children:e.jsxs(Es,{className:"grid w-[200px] grid-cols-2",children:[e.jsx(De,{value:"notes",children:"ç¬”è®°"}),e.jsx(De,{value:"collect",children:"æ”¶è—"})]})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:n,className:"shrink-0",children:r?e.jsxs(e.Fragment,{children:[e.jsx(Fs,{className:"h-4 w-4 mr-1"}),"éšè—"]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"h-4 w-4 mr-1"}),"æ˜¾ç¤º"]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(je,{placeholder:x==="notes"?"æœç´¢ç¬”è®°...":"æœç´¢æ”¶è—...",value:N,onChange:t=>p(t.target.value),className:"pl-8 h-8"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto note-card-list-container",children:e.jsxs("div",{className:"p-4",children:[!f&&((re=D==null?void 0:D.pages)==null?void 0:re[0])&&e.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:D.pages[0].count>0?e.jsx("span",{children:S?e.jsxs(e.Fragment,{children:["æ‰¾åˆ° ",D.pages[0].count,' ä¸ªåŒ¹é… "',S,'" çš„',x==="notes"?"ç¬”è®°":"æ”¶è—"]}):e.jsxs(e.Fragment,{children:["å…± ",D.pages[0].count," ä¸ª",x==="notes"?"ç¬”è®°":"æ”¶è—"]})}):e.jsx("span",{children:S?e.jsxs(e.Fragment,{children:["æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„",x==="notes"?"ç¬”è®°":"æ”¶è—"]}):e.jsxs(e.Fragment,{children:["æš‚æ— ",x==="notes"?"ç¬”è®°":"æ”¶è—"]})})}),e.jsxs(Se,{value:x,className:"w-full",children:[e.jsx(Ee,{value:"notes",className:"mt-0",children:f&&E.length===0?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-gray-400"})}):E.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[e.jsx(pe,{className:"h-12 w-12 mb-2"}),e.jsx("p",{className:"text-sm",children:S?`æ²¡æœ‰æ‰¾åˆ°åŒ¹é… "${S}" çš„ç¬”è®°`:s("notes.noNotes")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:E.map(t=>e.jsx(Ks,{note:t,onClick:()=>$(t),onEdit:()=>J(t),onDelete:()=>te(t)},t.uuid))}),e.jsx("div",{ref:h,className:"mt-6 flex justify-center",children:z?e.jsxs("div",{className:"flex items-center gap-2 py-4",children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"åŠ è½½æ›´å¤š..."})]}):R?e.jsx("div",{className:"py-4",children:e.jsx(A,{variant:"outline",onClick:()=>L(),className:"text-sm",children:S?"ç‚¹å‡»åŠ è½½æ›´å¤šæœç´¢ç»“æžœ":"ç‚¹å‡»åŠ è½½æ›´å¤š"})}):E.length>0?e.jsx("div",{className:"py-4 text-center",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"å·²åˆ°åº•å•¦"})}):null})]})}),e.jsx(Ee,{value:"collect",className:"mt-0",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[e.jsx(pe,{className:"h-12 w-12 mb-2"}),e.jsx("p",{className:"text-sm",children:"æ”¶è—åŠŸèƒ½å¼€å‘ä¸­..."})]})})]})]})})]}),e.jsx(Ge,{open:k,onOpenChange:he,note:M,defaultTagPath:M?void 0:d}),e.jsx(Je,{open:C,onOpenChange:O,note:I}),Q&&M&&e.jsx(Ue,{noteId:M.uuid,initialContent:M.content||"",initialTitle:M.title,onClose:xe})]})}function Ue({noteId:n,initialContent:r,initialTitle:s,onClose:d}){const l=ue(),m=Ns(),{toast:c}=me(),[N,p]=a.useState(!1),[x,w]=a.useState(!0),{data:k}=_e({queryKey:["note",n],queryFn:()=>ee.getDetail(n),enabled:!!n}),_=r!==void 0&&r!==""&&k?{...k,content:r,title:s||k.title}:r!==void 0&&r!==""&&!n?{content:r,title:s||""}:k&&s!==void 0&&s!==k.title?{...k,title:s}:k,C=ae({mutationFn:ee.create,onSuccess:v=>{l.invalidateQueries({predicate:g=>{const b=g.queryKey[0];return b==="notes"||b==="notes-infinite"}}),v.tag_details&&v.tag_details.some(g=>g.is_new)&&(console.log("ðŸ·ï¸ æ£€æµ‹åˆ°æ–°æ ‡ç­¾,åˆ·æ–°æ ‡ç­¾æ ‘:",v.tag_details.filter(g=>g.is_new)),l.invalidateQueries({queryKey:["note-tags-tree"]})),p(!1),c({title:"ä¿å­˜æˆåŠŸ",description:"ç¬”è®°å·²æˆåŠŸä¿å­˜"})},onError:()=>{p(!1),c({title:"ä¿å­˜å¤±è´¥",description:"ç¬”è®°ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•",variant:"destructive"})}}),O=ae({mutationFn:({uuid:v,data:g})=>ee.update(v,g),onSuccess:v=>{l.invalidateQueries({predicate:g=>{const b=g.queryKey[0];return b==="notes"||b==="notes-infinite"}}),v.tag_details&&v.tag_details.some(g=>g.is_new)&&(console.log("ðŸ·ï¸ æ£€æµ‹åˆ°æ–°æ ‡ç­¾,åˆ·æ–°æ ‡ç­¾æ ‘:",v.tag_details.filter(g=>g.is_new)),l.invalidateQueries({queryKey:["note-tags-tree"]})),p(!1),c({title:"ä¿å­˜æˆåŠŸ",description:"ç¬”è®°å·²æˆåŠŸä¿å­˜"})},onError:()=>{p(!1),c({title:"ä¿å­˜å¤±è´¥",description:"ç¬”è®°ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•",variant:"destructive"})}}),M=(v,g)=>{console.log("ðŸ” FullscreenEditor handleSave - æŽ¥æ”¶çš„å†…å®¹:",v),console.log("ðŸ” FullscreenEditor handleSave - æ ‡é¢˜:",g),console.log("ðŸ” FullscreenEditor handleSave - note:",_),c({title:"ç¼–è¾‘å™¨å†…å®¹ï¼ˆå…¨å±ï¼‰",description:`é•¿åº¦: ${v.length} å­—ç¬¦
å‰100å­—: ${v.substring(0,100)}...`,duration:3e3}),v.trim()&&(p(!0),_?O.mutate({uuid:_.uuid,data:{title:(g==null?void 0:g.trim())||"",content:v.trim()}}):C.mutate({title:(g==null?void 0:g.trim())||"",content:v.trim(),status:1}))},H=()=>{d?d():m({to:"/notes"})},Q=()=>{w(!x)};return e.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:e.jsxs(Ss,{direction:"horizontal",className:"h-full",children:[e.jsx(Te,{defaultSize:x?70:100,minSize:x?30:100,children:e.jsx(Ne,{note:_,onClose:H,onSave:M,isSaving:N,editorId:"fullscreen-editor",className:"h-full"})}),x&&e.jsxs(e.Fragment,{children:[e.jsx(Ds,{withHandle:!0}),e.jsx(Te,{defaultSize:30,minSize:20,maxSize:50,children:e.jsx("div",{className:"h-full bg-background border-l",children:e.jsx(As,{onToggleRightPanel:Q,isRightPanelVisible:x})})})]})]})})}function Be({note:n,onNoteViewClick:r,children:s}){return e.jsxs(Re,{children:[e.jsx(ze,{asChild:!0,children:s||e.jsx(A,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:d=>{d.stopPropagation(),r&&r(n)},children:e.jsx(be,{className:"h-4 w-4"})})}),e.jsx(Le,{className:"w-80 max-h-96 overflow-y-auto",side:"left",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:n.title}),n.content&&e.jsx("div",{className:"text-sm text-gray-700",children:e.jsx(we,{children:n.content})}),e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["åˆ›å»ºæ—¶é—´: ",new Date(n.created_at).toLocaleString()]})]})})]})}function Hs({notes:n,onNoteTitleClick:r,onNoteViewClick:s,onDeleteNote:d}){const l=m=>{if(m.title&&m.title.trim())return m.title;if(m.content){const c=m.content.replace(/#{1,6}\s+/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/!\[([^\]]*)\]\([^)]+\)/g,"").replace(/\n+/g," ").trim();return c.length>100?c.substring(0,100)+"...":c}return"æ— æ ‡é¢˜"};return e.jsx("div",{className:"w-full",children:e.jsxs(Ps,{children:[e.jsx(Rs,{children:e.jsxs(Fe,{children:[e.jsx(le,{children:"æ ‡é¢˜"}),e.jsx(le,{className:"w-[10%] text-center min-w-[80px]",children:"æ›´æ–°"}),e.jsx(le,{className:"w-[10%] text-center min-w-[80px]",children:"åˆ›å»º"}),e.jsx(le,{className:"w-[5%] text-center min-w-[60px]"})]})}),e.jsx(zs,{children:n.map(m=>e.jsxs(Fe,{className:"cursor-pointer hover:bg-muted/50 group",onClick:()=>{r&&r(m)},children:[e.jsx(ie,{className:"w-[75%] min-w-[240px]",children:e.jsx("div",{className:"line-clamp-2 text-sm text-foreground/90 hover:text-primary cursor-pointer",onClick:c=>{c.stopPropagation(),r&&r(m)},children:l(m)})}),e.jsx(ie,{className:"text-sm text-muted-foreground w-[10%] text-center min-w-[80px] whitespace-nowrap",onClick:c=>c.stopPropagation(),children:Oe(m.updated_at)}),e.jsx(ie,{className:"text-sm text-muted-foreground w-[10%] text-center min-w-[80px] whitespace-nowrap",onClick:c=>c.stopPropagation(),children:Oe(m.created_at)}),e.jsx(ie,{className:"w-[5%] min-w-[60px]",onClick:c=>c.stopPropagation(),children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1",children:[e.jsx(Be,{note:m,onNoteViewClick:s}),e.jsx(A,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:c=>{c.stopPropagation(),d&&d(m)},children:e.jsx(ve,{className:"h-4 w-4"})})]})})]},m.uuid))})]})})}function Qs({note:n,onNoteTitleClick:r,onNoteViewClick:s,onDeleteNote:d}){return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Be,{note:n,onNoteViewClick:s}),e.jsx(A,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:l=>{l.stopPropagation(),d&&d(n)},children:e.jsx(ve,{className:"h-4 w-4"})})]})}function Gs({notes:n,onNoteTitleClick:r,onNoteViewClick:s,onDeleteNote:d}){return e.jsx("div",{className:"grid gap-3 grid-cols-5",children:n.map(l=>e.jsxs(Me,{className:"group cursor-pointer hover:shadow-md transition-all duration-200 hover:border-gray-300 flex flex-col h-[180px] bg-white border border-gray-200 rounded-lg relative",onClick:()=>{r&&r(l)},children:[e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsx(Qs,{note:l,onNoteTitleClick:r,onNoteViewClick:s,onDeleteNote:d})}),e.jsxs(Pe,{className:"p-4 flex-1 overflow-hidden",children:[e.jsx("h3",{className:"font-medium text-sm mb-2 line-clamp-2 text-gray-900 hover:text-primary cursor-pointer",onClick:m=>{m.stopPropagation(),r&&r(l)},children:l.title}),l.content&&e.jsx("div",{className:"text-xs text-gray-600",children:e.jsx("div",{style:{transform:"scale(0.70)",transformOrigin:"top left",width:"145%"},children:e.jsx(we,{children:l.content})})}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:new Date(l.created_at).toLocaleDateString()})]})]},l.uuid))})}function Js(n,r){const[s,d]=a.useState(n);return a.useEffect(()=>{const l=setTimeout(()=>{d(n)},r);return()=>{clearTimeout(l)}},[n,r]),s}function Us(){var E;const{t:n}=de(),{tagPath:r,setTagPath:s}=Ie(),[d,l]=a.useState(""),[m,c]=a.useState(!1),[N,p]=a.useState(!1),[x,w]=a.useState(null),[k,_]=a.useState(!1),[C,O]=a.useState(null),[M,H]=a.useState(""),[Q,v]=a.useState(""),[g,b]=a.useState(null),[V,U]=a.useState("card"),[P,B]=a.useState(0),I=Js(d,500);a.useEffect(()=>{const h=Os("card");U(h)},[]);const Z=h=>{U(h),Ms(h)},y=a.useCallback(h=>{h.preventDefault(),h.stopPropagation(),s("")},[s]),{data:T,isLoading:G,fetchNextPage:W,hasNextPage:q,isFetchingNextPage:o}=$e({queryKey:["notes-infinite",I,r],queryFn:({pageParam:h=1})=>Ve({pageParam:h,keyword:I,tagPath:r}),initialPageParam:1,getNextPageParam:(h,$)=>{if(h.data.length===qe)return $.length+1},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),i=a.useMemo(()=>(T==null?void 0:T.pages.flatMap(h=>h.data))||[],[T]),{loadMoreRef:j}=Ae({hasNextPage:q,isFetchingNextPage:o,fetchNextPage:W,threshold:200}),S=()=>{B(window.scrollY),w(null),c(!0)},K=h=>{w(h),c(!0)},D=h=>{w(h),c(!0)},f=(h,$,J)=>{O(h||null),H($||""),v(J||""),_(!0)},L=()=>{_(!1),O(null),H(""),v("")},R=h=>{b(h),p(!0)},z=h=>{c(h),h||setTimeout(()=>{window.scrollTo(0,P)},100)};return e.jsxs(e.Fragment,{children:[e.jsxs(ys,{className:"h-screen",children:[e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 border-b bg-background",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"ç¬”è®°"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(je,{placeholder:n("notes.searchPlaceholder"),value:d,onChange:h=>l(h.target.value),className:"pl-8 h-8 w-48 bg-transparent text-sm"})]}),e.jsx(_s,{currentView:V,onViewChange:Z}),e.jsxs(A,{onClick:S,variant:"ghost",children:[e.jsx(ws,{className:"h-4 w-4"}),"æ–°å»ºç¬”è®°"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto pt-0 px-6 pt-6 pb-6",children:[!G&&((E=T==null?void 0:T.pages)==null?void 0:E[0])&&e.jsx("div",{className:"mb-6 text-sm text-muted-foreground flex items-center gap-3",children:T.pages[0].count>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:I?e.jsxs(e.Fragment,{children:["æ‰¾åˆ° ",T.pages[0].count,' ä¸ªåŒ¹é… "',I,'" çš„ç¬”è®°']}):e.jsxs(e.Fragment,{children:["å…± ",T.pages[0].count," ä¸ªç¬”è®°"]})}),r&&e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md border border-blue-200",children:[e.jsx("span",{className:"text-xs",children:r}),e.jsx("button",{type:"button",onClick:y,className:"hover:bg-blue-100 rounded-full p-0.5 transition-colors",title:"æ¸…é™¤æ ‡ç­¾ç­›é€‰",children:e.jsx(oe,{className:"h-3 w-3"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:I||r?e.jsx(e.Fragment,{children:"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç¬”è®°"}):e.jsx(e.Fragment,{children:"å…± 0 ä¸ªç¬”è®°"})}),r&&e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md border border-blue-200",children:[e.jsx("span",{className:"text-xs",children:r}),e.jsx("button",{type:"button",onClick:y,className:"hover:bg-blue-100 rounded-full p-0.5 transition-colors",title:"æ¸…é™¤æ ‡ç­¾ç­›é€‰",children:e.jsx(oe,{className:"h-3 w-3"})})]})]})}),G&&i.length===0?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(se,{className:"h-8 w-8 animate-spin text-gray-400"})}):i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[e.jsx(pe,{className:"h-12 w-12 mb-2"}),e.jsx("p",{className:"text-sm",children:I?`æ²¡æœ‰æ‰¾åˆ°åŒ¹é… "${I}" çš„ç¬”è®°`:n("notes.noNotes")})]}):e.jsxs(e.Fragment,{children:[V==="card"?e.jsx(Gs,{notes:i,onNoteTitleClick:K,onNoteViewClick:D,onDeleteNote:R}):e.jsx(Hs,{notes:i,onNoteTitleClick:K,onNoteViewClick:D,onDeleteNote:R}),e.jsx("div",{ref:j,className:"mt-8 flex justify-center",children:o?e.jsxs("div",{className:"flex items-center gap-2 py-4",children:[e.jsx(se,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"åŠ è½½æ›´å¤š..."})]}):q?e.jsx("div",{className:"py-4",children:e.jsx(A,{variant:"outline",onClick:()=>W(),className:"text-sm",children:I?"ç‚¹å‡»åŠ è½½æ›´å¤šæœç´¢ç»“æžœ":"ç‚¹å‡»åŠ è½½æ›´å¤š"})}):i.length>0?e.jsx("div",{className:"py-4 text-center",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"å·²åˆ°åº•å•¦"})}):null})]})]})})]}),e.jsx(Ge,{open:m,onOpenChange:z,note:x,onFullscreenEdit:f,defaultTagPath:x?void 0:r}),e.jsx(Je,{open:N,onOpenChange:p,note:g})]}),k&&e.jsx(Ue,{noteId:C==null?void 0:C.uuid,initialContent:M,initialTitle:Q,onClose:L})]})}const xt=bs("/_authenticated_notes/notes")({component:Us});export{xt as Route};
