import{c as xe,ap as v,j as e,E as B,B as g,T as Pe,D as ue,d as he,e as ge,f as je,r as o,L as f,I as k,h as Te,J as Ee,u as Oe,a as Fe,b as E,S as Me,P as ce,i as re,aq as Ve,A as Ie,k as Ae,l as qe,m as Le,n as ze,o as Je,p as Ke,q as Re,w as Ue}from"./index-CTPVv2qI.js";import{M as Be}from"./main-CdabfA0i.js";import{u as Qe,a as He}from"./use-infinite-scroll-BdHXd_Cp.js";import{g as $e,V as Xe,s as Ye}from"./notes-view-storage-izKA1eKT.js";import{T as Ge,a as We,b as oe,c as N,d as Ze,e as b}from"./table-Pbk4v1eF.js";import{S as Q}from"./switch-DtYmKlj_.js";import{E as pe}from"./external-link-BTxRf4N8.js";import{E as es}from"./eye-CrEdTXEF.js";import{S as ss}from"./square-pen-DRmb1xVr.js";import{C as ts}from"./clock-DWJkb9W8.js";import{C as de}from"./calendar-ODBYeOZb.js";import{T as as}from"./textarea-sXwijNo4.js";import{S as F,a as M,b as V,c as I,d as A}from"./select-BxdJP45j.js";import"./index-DOFEKLPp.js";import"./chevron-down-B6oOayy8.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),H=20,S={page:async a=>{var d;const l={page:a.page||1,rows:a.rows||H,...((d=a.keyword)==null?void 0:d.trim())&&{keyword:a.keyword.trim()},...a.platform&&a.platform!=="all"&&{platform:a.platform},...a.is_collecting!==void 0&&a.is_collecting!=="all"&&{is_collecting:a.is_collecting},...a.status&&a.status!=="all"&&{status:a.status}},{data:t}=await v.post("/note/collect/creater/page",l);return{data:t.items,count:t.pagination.total}},detail:async a=>{const{data:l}=await v.post(`/note/collect/creater/detail/${a}`);return l},create:async a=>{const{data:l}=await v.post("/note/collect/creater/create",a);return l},update:async(a,l)=>{const{data:t}=await v.post(`/note/collect/creater/update/${a}`,l);return t},delete:async a=>{await v.post(`/note/collect/creater/delete/${a}`)},list:async a=>{const l={...a.platform&&a.platform!=="all"&&{platform:a.platform},...a.is_collecting!==void 0&&a.is_collecting!=="all"&&{is_collecting:a.is_collecting},...a.status&&a.status!=="all"&&{status:a.status}},{data:t}=await v.post("/note/collect/creater/list",l);return t}};async function ns({pageParam:a,keyword:l,platform:t,is_collecting:d,status:m}){return S.page({page:a,rows:H,keyword:l,platform:t,is_collecting:d,status:m})}function is({creaters:a,onCreaterClick:l,onEditCreater:t,onDeleteCreater:d,onToggleCollecting:m,isUpdatingCollecting:c=!1}){const x={douyin:"抖音",youtube:"YouTube",xiaohongshu:"小红书",weixin:"微信","x.com":"X.com",other:"其他"};return e.jsx("div",{className:"w-full",children:e.jsxs(Ge,{children:[e.jsx(We,{children:e.jsxs(oe,{children:[e.jsx(N,{className:"w-[25%]",children:"博主信息"}),e.jsx(N,{className:"w-[20%]",children:"用户名"}),e.jsx(N,{className:"w-[25%]",children:"个人网址"}),e.jsx(N,{className:"w-[10%] text-center",children:"平台"}),e.jsx(N,{className:"w-[10%] text-center",children:"采集状态"}),e.jsx(N,{className:"w-[10%] text-center",children:"操作"})]})}),e.jsx(Ze,{children:a.map(i=>e.jsxs(oe,{className:"cursor-pointer hover:bg-muted/50 group",onClick:()=>{l&&l(i)},children:[e.jsx(b,{className:"w-[25%]",children:e.jsx("div",{className:"font-medium text-sm hover:text-primary",children:i.blogger_name})}),e.jsx(b,{className:"w-[20%]",children:e.jsxs("div",{className:"text-sm font-mono text-muted-foreground",children:["@",i.username]})}),e.jsx(b,{className:"w-[25%]",onClick:r=>r.stopPropagation(),children:i.website_url?e.jsxs("a",{href:i.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",onClick:r=>r.stopPropagation(),children:[e.jsx(pe,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:i.website_url})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),e.jsx(b,{className:"w-[10%] text-center",onClick:r=>r.stopPropagation(),children:e.jsx(B,{variant:"secondary",className:"text-xs",children:x[i.platform]||i.platform})}),e.jsx(b,{className:"w-[10%] text-center",onClick:r=>r.stopPropagation(),children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Q,{checked:i.is_collecting,onCheckedChange:r=>{m&&m(i,r)},disabled:c,size:"sm"})})}),e.jsx(b,{className:"w-[10%]",onClick:r=>r.stopPropagation(),children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1 justify-center",children:[e.jsx(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:r=>{r.stopPropagation(),l&&l(i)},title:"查看详情",children:e.jsx(es,{className:"h-4 w-4"})}),e.jsx(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:r=>{r.stopPropagation(),t&&t(i)},title:"编辑",children:e.jsx(ss,{className:"h-4 w-4"})}),e.jsx(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",onClick:r=>{r.stopPropagation(),d&&d(i)},title:"删除",children:e.jsx(Pe,{className:"h-4 w-4"})})]})})]},i.uuid))})]})})}function cs({open:a,onOpenChange:l,creater:t,onToggleCollecting:d,isUpdatingCollecting:m=!1}){if(!t)return null;const c={douyin:"抖音",youtube:"YouTube",xiaohongshu:"小红书",weixin:"微信","x.com":"X.com",other:"其他"};return e.jsx(ue,{open:a,onOpenChange:l,children:e.jsxs(he,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[e.jsx(ge,{className:"flex-shrink-0",children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),t.blogger_name]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"基本信息"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"博主名称"}),e.jsx("p",{className:"text-sm font-medium",children:t.blogger_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"用户名"}),e.jsxs("p",{className:"text-sm font-mono",children:["@",t.username]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"平台"}),e.jsx("div",{children:e.jsx(B,{variant:"secondary",className:"text-xs",children:c[t.platform]||t.platform})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"状态"}),e.jsx("div",{children:t.status?e.jsx(B,{variant:"outline",className:"text-xs",children:t.status}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})})]})]}),t.website_url&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(ls,{className:"h-3 w-3"}),"个人网址"]}),e.jsxs("a",{href:t.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[e.jsx(pe,{className:"h-3 w-3"}),t.website_url]})]})]}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"采集设置"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"启用采集"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"开启后将自动采集该创作者的内容"})]}),e.jsx(Q,{checked:t.is_collecting,onCheckedChange:x=>{d&&d(t,x)},disabled:m})]})]}),t.ext_data&&Object.keys(t.ext_data).length>0&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"扩展数据"}),e.jsx("pre",{className:"text-xs bg-muted p-3 rounded overflow-auto max-h-40",children:JSON.stringify(t.ext_data,null,2)})]}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(ts,{className:"h-4 w-4"}),"时间信息"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(de,{className:"h-3 w-3"}),"创建时间"]}),e.jsx("p",{children:new Date(t.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(de,{className:"h-3 w-3"}),"更新时间"]}),e.jsx("p",{children:new Date(t.updated_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-muted-foreground",children:"创建者ID"}),e.jsx("p",{className:"font-mono",children:t.created_by})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-muted-foreground",children:"更新者ID"}),e.jsx("p",{className:"font-mono",children:t.updated_by})]})]})]}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"系统信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-muted-foreground",children:"UUID"}),e.jsx("p",{className:"font-mono text-xs break-all",children:t.uuid})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-muted-foreground",children:"ID"}),e.jsx("p",{className:"font-mono",children:t.id})]})]})]})]})]})})}function rs({open:a,onOpenChange:l,creater:t,onSave:d,isSaving:m=!1}){const[c,x]=o.useState({blogger_name:"",username:"",website_url:"",platform:"",is_collecting:!1,status:"",ext_data:""}),[i,r]=o.useState({}),y=t!==void 0,q=[{value:"douyin",label:"抖音"},{value:"youtube",label:"YouTube"},{value:"xiaohongshu",label:"小红书"},{value:"weixin",label:"微信"},{value:"x.com",label:"X.com"},{value:"other",label:"其他"}];o.useEffect(()=>{a&&(x(y&&t?{blogger_name:t.blogger_name||"",username:t.username||"",website_url:t.website_url||"",platform:t.platform||"",is_collecting:t.is_collecting||!1,status:t.status||"",ext_data:t.ext_data?JSON.stringify(t.ext_data,null,2):""}:{blogger_name:"",username:"",website_url:"",platform:"",is_collecting:!1,status:"",ext_data:""}),r({}))},[a,y,t]);const D=()=>{const n={};if(c.blogger_name.trim()||(n.blogger_name="博主名称不能为空"),c.username.trim()||(n.username="用户名不能为空"),c.platform||(n.platform="请选择平台"),c.ext_data.trim())try{JSON.parse(c.ext_data)}catch{n.ext_data="扩展数据格式错误，请输入有效的JSON"}return r(n),Object.keys(n).length===0},L=()=>{if(!D())return;const n={blogger_name:c.blogger_name.trim(),username:c.username.trim(),website_url:c.website_url.trim()||void 0,platform:c.platform,is_collecting:c.is_collecting,status:c.status.trim()||void 0,ext_data:c.ext_data.trim()?JSON.parse(c.ext_data):void 0};d(n)},h=(n,w)=>{x(_=>({..._,[n]:w})),i[n]&&r(_=>({..._,[n]:""}))};return e.jsx(ue,{open:a,onOpenChange:l,children:e.jsxs(he,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[e.jsx(ge,{className:"flex-shrink-0",children:e.jsx(je,{children:y?"编辑创作者":"新建创作者"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold border-b pb-2",children:"基本信息"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{htmlFor:"blogger_name",children:["博主名称 ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(k,{id:"blogger_name",value:c.blogger_name,onChange:n=>h("blogger_name",n.target.value),placeholder:"请输入博主名称",className:i.blogger_name?"border-destructive":""}),i.blogger_name&&e.jsx("p",{className:"text-sm text-destructive",children:i.blogger_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{htmlFor:"username",children:["用户名 ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(k,{id:"username",value:c.username,onChange:n=>h("username",n.target.value),placeholder:"请输入用户名",className:i.username?"border-destructive":""}),i.username&&e.jsx("p",{className:"text-sm text-destructive",children:i.username})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{children:["平台 ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(F,{value:c.platform,onValueChange:n=>h("platform",n),children:[e.jsx(M,{className:i.platform?"border-destructive":"",children:e.jsx(V,{placeholder:"请选择平台"})}),e.jsx(I,{children:q.map(n=>e.jsx(A,{value:n.value,children:n.label},n.value))})]}),i.platform&&e.jsx("p",{className:"text-sm text-destructive",children:i.platform})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"website_url",children:"个人网址"}),e.jsx(k,{id:"website_url",value:c.website_url,onChange:n=>h("website_url",n.target.value),placeholder:"https://...",type:"url"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"status",children:"状态"}),e.jsx(k,{id:"status",value:c.status,onChange:n=>h("status",n.target.value),placeholder:"请输入状态"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold border-b pb-2",children:"采集设置"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(f,{children:"启用采集"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"开启后将自动采集该创作者的内容"})]}),e.jsx(Q,{checked:c.is_collecting,onCheckedChange:n=>h("is_collecting",n)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold border-b pb-2",children:"扩展数据"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"ext_data",children:"JSON 数据"}),e.jsx(as,{id:"ext_data",value:c.ext_data,onChange:n=>h("ext_data",n.target.value),placeholder:'{"key": "value"}',rows:4,className:`font-mono text-xs ${i.ext_data?"border-destructive":""}`}),i.ext_data&&e.jsx("p",{className:"text-sm text-destructive",children:i.ext_data}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"请输入有效的 JSON 格式数据，留空表示无扩展数据"})]})]})]}),e.jsxs(Te,{className:"flex-shrink-0",children:[e.jsx(g,{variant:"outline",onClick:()=>l(!1),disabled:m,children:"取消"}),e.jsx(g,{onClick:L,disabled:m,children:m?"保存中...":"保存"})]})]})})}function O(a,l){const[t,d]=o.useState(a);return o.useEffect(()=>{const m=setTimeout(()=>{d(a)},l);return()=>{clearTimeout(m)}},[a,l]),t}function os(){var ne,ie;Ee();const a=Oe(),{toast:l}=Fe(),[t,d]=o.useState(""),[m,c]=o.useState("all"),[x,i]=o.useState("all"),[r,y]=o.useState("all"),[q,D]=o.useState("table"),[L,h]=o.useState(null),[n,w]=o.useState(!1),[_,P]=o.useState(!1),[z,fe]=o.useState(void 0),[ve,J]=o.useState(!1),[C,$]=o.useState(null),j=O(t,500),X=O(m,300),Y=O(x,300),G=O(r,300);o.useEffect(()=>{const s=$e("table");D(s)},[]);const Ne=s=>{D(s),Ye(s)},{data:u,isLoading:W,error:ds,fetchNextPage:Z,hasNextPage:ee,isFetchingNextPage:se}=Qe({queryKey:["creaters-infinite",j,X,Y,G],queryFn:({pageParam:s=1})=>ns({pageParam:s,keyword:j,platform:X,is_collecting:Y,status:G}),initialPageParam:1,getNextPageParam:(s,p)=>{if(s.data.length===H)return p.length+1},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),T=o.useMemo(()=>(u==null?void 0:u.pages.flatMap(s=>s.data))||[],[u]),{loadMoreRef:be}=He({hasNextPage:ee,isFetchingNextPage:se,fetchNextPage:Z,threshold:200}),te=E({mutationFn:S.create,onSuccess:()=>{a.invalidateQueries({queryKey:["creaters-infinite"]}),P(!1),l({title:"创建成功",description:"创作者已成功创建"})},onError:s=>{l({title:"创建失败",description:(s==null?void 0:s.message)||"创作者创建失败，请重试",variant:"destructive"})}}),ae=E({mutationFn:({uuid:s,data:p})=>S.update(s,p),onSuccess:()=>{a.invalidateQueries({queryKey:["creaters-infinite"]}),P(!1),l({title:"更新成功",description:"创作者信息已更新"})},onError:s=>{l({title:"更新失败",description:(s==null?void 0:s.message)||"创作者更新失败，请重试",variant:"destructive"})}}),K=E({mutationFn:S.delete,onSuccess:()=>{a.invalidateQueries({queryKey:["creaters-infinite"]}),J(!1),$(null),l({title:"删除成功",description:"创作者已删除"})},onError:s=>{l({title:"删除失败",description:(s==null?void 0:s.message)||"创作者删除失败，请重试",variant:"destructive"})}}),R=E({mutationFn:({uuid:s,is_collecting:p})=>S.update(s,{is_collecting:p}),onSuccess:()=>{a.invalidateQueries({queryKey:["creaters-infinite"]}),l({title:"更新成功",description:"采集状态已更新"})},onError:s=>{l({title:"更新失败",description:(s==null?void 0:s.message)||"采集状态更新失败，请重试",variant:"destructive"})}}),ye=s=>{h(s),w(!0)},U=s=>{fe(s),P(!0)},we=s=>{$(s),J(!0)},le=(s,p)=>{R.mutate({uuid:s.uuid,is_collecting:p})},_e=s=>{z?ae.mutate({uuid:z.uuid,data:s}):te.mutate(s)},Ce=()=>{C&&K.mutate(C.uuid)},ke=[{value:"all",label:"全部平台"},{value:"douyin",label:"抖音"},{value:"youtube",label:"YouTube"},{value:"xiaohongshu",label:"小红书"},{value:"weixin",label:"微信"},{value:"x.com",label:"X.com"},{value:"other",label:"其他"}],Se=[{value:"all",label:"全部状态"},{value:"true",label:"采集中"},{value:"false",label:"未采集"}],De=[{value:"all",label:"全部状态"},{value:"active",label:"活跃"},{value:"inactive",label:"非活跃"},{value:"pending",label:"待审核"},{value:"blocked",label:"已屏蔽"}];return e.jsx(e.Fragment,{children:e.jsxs(Be,{className:"h-screen",children:[e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 border-b bg-background",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"对标管理"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(F,{value:m,onValueChange:c,children:[e.jsx(M,{className:"w-32 h-8 text-sm",children:e.jsx(V,{placeholder:"平台"})}),e.jsx(I,{children:ke.map(s=>e.jsx(A,{value:s.value,children:s.label},s.value))})]}),e.jsxs(F,{value:x,onValueChange:i,children:[e.jsx(M,{className:"w-32 h-8 text-sm",children:e.jsx(V,{placeholder:"采集状态"})}),e.jsx(I,{children:Se.map(s=>e.jsx(A,{value:s.value,children:s.label},s.value))})]}),e.jsxs(F,{value:r,onValueChange:y,children:[e.jsx(M,{className:"w-32 h-8 text-sm",children:e.jsx(V,{placeholder:"状态"})}),e.jsx(I,{children:De.map(s=>e.jsx(A,{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(k,{placeholder:"搜索博主、用户名或网址",value:t,onChange:s=>d(s.target.value),className:"pl-8 h-8 w-48 bg-transparent text-sm"})]}),e.jsxs(g,{size:"sm",onClick:()=>U(void 0),className:"h-8",children:[e.jsx(ce,{className:"h-4 w-4 mr-1"}),"新建"]}),e.jsx(Xe,{currentView:q,onViewChange:Ne})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto pt-0 px-6 pt-6 pb-6",children:[!W&&e.jsx("div",{className:"mb-6 text-sm text-muted-foreground",children:((ie=(ne=u==null?void 0:u.pages)==null?void 0:ne[0])==null?void 0:ie.count)&&u.pages[0].count>0&&(j?e.jsxs(e.Fragment,{children:["找到 ",u.pages[0].count,' 个匹配 "',j,'" 的创作者']}):e.jsxs(e.Fragment,{children:["共 ",u.pages[0].count," 个创作者"]}))}),W&&T.length===0?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(re,{className:"h-8 w-8 animate-spin text-gray-400"})}):T.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[e.jsx(Ve,{className:"h-12 w-12 mb-2"}),e.jsx("p",{className:"text-sm",children:j?`没有找到匹配 "${j}" 的创作者`:"暂无创作者"}),e.jsxs(g,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>U(void 0),children:[e.jsx(ce,{className:"h-4 w-4 mr-1"}),"添加第一个创作者"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(is,{creaters:T,onCreaterClick:ye,onEditCreater:U,onDeleteCreater:we,onToggleCollecting:le,isUpdatingCollecting:R.isPending}),e.jsx("div",{ref:be,className:"mt-8 flex justify-center",children:se?e.jsxs("div",{className:"flex items-center gap-2 py-4",children:[e.jsx(re,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"加载更多..."})]}):ee?e.jsx("div",{className:"py-4",children:e.jsx(g,{variant:"outline",onClick:()=>Z(),className:"text-sm",children:j?"点击加载更多搜索结果":"点击加载更多"})}):T.length>0?e.jsx("div",{className:"py-4 text-center",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"已到底啦"})}):null})]})]})})]}),e.jsx(cs,{open:n,onOpenChange:w,creater:L,onToggleCollecting:le,isUpdatingCollecting:R.isPending}),e.jsx(rs,{open:_,onOpenChange:P,creater:z,onSave:_e,isSaving:te.isPending||ae.isPending}),e.jsx(Ie,{open:ve,onOpenChange:J,children:e.jsxs(Ae,{children:[e.jsxs(qe,{children:[e.jsx(Le,{children:"确认删除"}),e.jsxs(ze,{children:['确定要删除创作者 "',C==null?void 0:C.blogger_name,'" 吗？ 此操作不可撤销。']})]}),e.jsxs(Je,{children:[e.jsx(Ke,{children:"取消"}),e.jsx(Re,{onClick:Ce,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:K.isPending,children:K.isPending?"删除中...":"删除"})]})]})})]})})}const ks=Ue("/_authenticated_notes/creater/")({component:os});export{ks as Route};
